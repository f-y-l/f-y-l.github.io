<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[thinkPHP发送邮件]]></title>
    <url>%2Fblog%2F2018%2F09%2F02%2Fphp%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[##thinkPHP发送邮件 ####1. 使用composer安装phpmailer组件 进入Packmailer官网，搜索phpmailer组件。 在项目目录下使用命令 require phpmailer/phpmailer```安装组件。12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152 + 安装成功后，你就可以找到vendor/phpmailer文件夹。3. 在 Packmailer官网的phpmailer 页面找到： **A Simple Example** ``` php &lt;?php // Import PHPMailer classes into the global namespace // These must be at the top of your script, not inside a function use PHPMailer\PHPMailer\PHPMailer; use PHPMailer\PHPMailer\Exception; //Load Composer&apos;s autoloader require &apos;vendor/autoload.php&apos;; $mail = new PHPMailer(true); // Passing `true` enables exceptions try &#123; //Server settings $mail-&gt;SMTPDebug = 2; // Enable verbose debug output $mail-&gt;isSMTP(); // Set mailer to use SMTP $mail-&gt;Host = &apos;smtp1.example.com;smtp2.example.com&apos;; // Specify main and backup SMTP servers $mail-&gt;SMTPAuth = true; // Enable SMTP authentication $mail-&gt;Username = &apos;user@example.com&apos;; // SMTP username $mail-&gt;Password = &apos;secret&apos;; // SMTP password $mail-&gt;SMTPSecure = &apos;tls&apos;; // Enable TLS encryption, `ssl` also accepted $mail-&gt;Port = 587; // TCP port to connect to //Recipients $mail-&gt;setFrom(&apos;from@example.com&apos;, &apos;Mailer&apos;); $mail-&gt;addAddress(&apos;joe@example.net&apos;, &apos;Joe User&apos;); // Add a recipient $mail-&gt;addAddress(&apos;ellen@example.com&apos;); // Name is optional $mail-&gt;addReplyTo(&apos;info@example.com&apos;, &apos;Information&apos;); $mail-&gt;addCC(&apos;cc@example.com&apos;); $mail-&gt;addBCC(&apos;bcc@example.com&apos;); //Attachments $mail-&gt;addAttachment(&apos;/var/tmp/file.tar.gz&apos;); // Add attachments $mail-&gt;addAttachment(&apos;/tmp/image.jpg&apos;, &apos;new.jpg&apos;); // Optional name //Content $mail-&gt;isHTML(true); // Set email format to HTML $mail-&gt;Subject = &apos;Here is the subject&apos;; $mail-&gt;Body = &apos;This is the HTML message body &lt;b&gt;in bold!&lt;/b&gt;&apos;; $mail-&gt;AltBody = &apos;This is the body in plain text for non-HTML mail clients&apos;; $mail-&gt;send(); echo &apos;Message has been sent&apos;; &#125; catch (Exception $e) &#123; echo &apos;Message could not be sent. Mailer Error: &apos;, $mail-&gt;ErrorInfo; &#125; 我的例子: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?php// +----------------------------------------------------------------------// | ThinkPHP [ WE CAN DO IT JUST THINK ]// +----------------------------------------------------------------------// | Copyright (c) 2006-2016 http://thinkphp.cn All rights reserved.// +----------------------------------------------------------------------// | Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )// +----------------------------------------------------------------------// | Author:// +----------------------------------------------------------------------// 应用公共文件// 邮箱use PHPMailer\PHPMailer\PHPMailer;use PHPMailer\PHPMailer\Exception;function mailto($to, $nickname, $title, $content)&#123; // 实例化 $mail = new PHPMailer(true); try &#123; //Server settings $mail-&gt;SMTPDebug = 2; // Enable verbose debug output 2调试模式 0用户模式 $mail-&gt;isSMTP(); // Set mailer to use SMTP $mail-&gt;CharSet = 'utf-8'; // 设置右键格式编码 $mail-&gt;Host = 'smtp.qq.com'; // Specify main and backup SMTP servers smtp服务器的名称 $mail-&gt;SMTPAuth = true; // Enable SMTP authentication $mail-&gt;Username = '1225388159@qq.com'; // SMTP username $mail-&gt;Password = 'amltoqg*uuidhjff'; // SMTP password 此为QQ授权码。 $mail-&gt;SMTPSecure = 'ssl'; // Enable TLS encryption, `ssl` also accepted 目前规定必须使用ssl，非ssl的协议已经不支持了 $mail-&gt;Port = 465; // TCP port to connect to ssl协议，端口号一般是465 //Recipients $mail-&gt;setFrom('1225388159@qq.com', 'Gether管理员'); // 设置右键发送人信息(邮箱, 昵称) $mail-&gt;addAddress($to, $nickname); // 设置收件人信息(邮箱, 昵称)// $mail-&gt;addAddress('ellen@example.com'); // Name is optional// $mail-&gt;addReplyTo('info@example.com', 'Information');// $mail-&gt;addCC('cc@example.com');// $mail-&gt;addBCC('bcc@example.com');//// //Attachments 附件// $mail-&gt;addAttachment('/var/tmp/file.tar.gz'); // Add attachments// $mail-&gt;addAttachment('/tmp/image.jpg', 'new.jpg'); // Optional name //Content $mail-&gt;isHTML(true); // Set email format to HTML $mail-&gt;Subject = $title; // 设置发送的邮件标题 $mail-&gt;Body = $content; // 设置邮件发送内容// $mail-&gt;AltBody = 'This is the body in plain text for non-HTML mail clients'; return $mail-&gt;send(); &#125; catch (Exception $e) &#123; exception($mail-&gt;ErrorInfo,1001); // 失败抛出错误信息 &#125;&#125; 在你的PHP项目中，找到application/common.php创建公用的PHP函数。 123456use PHPMailer\PHPMailer\PHPMailer; // 引用use PHPMailer\PHPMailer\Exception;function mailto($to, $nickname, $title, $content) // 传入参数（收件人邮箱，收件人昵称，邮件标题，邮件内容）&#123; ···&#125; 这时候，跑起你的PHP程序~！ :) ！！！尽然报错了？！ 坑点1：missing: openssl.```12345678910111213141516171819- [解决方法](https://www.cnblogs.com/phpxuetang/p/5656266.html)： &gt;**什么是openssl？** &gt;&gt; &gt;关于openssl，我说的不如百度百科齐全，还是看看百度百科的解释吧！&lt;http://baike.baidu.com/view/300712.htm&gt; &gt; &gt;**php开启openssl的方法，大多数情况下openssl是没有开启的，要想启用需要进行下简单的设置：** &gt;&gt;**windows下开启方法：** &gt;&gt; &gt;&gt;1. 找到 php安装目录\PHPTutorial\php\对应版本\php.ini &gt;&gt;2. 首先检查php.ini中```；extension=php_openssl.dll```是否存在， 如果存在的话去掉前面的注释符‘**；**’， 如果不存在这行，那么添加```extension=php_openssl.dll```。 &gt;&gt;3. 将下的： php_openssl.dll， ssleay32.dll， libeay32.dll 3个文件拷贝到 WINDOWS\system32\ 文件夹下。 &gt;&gt;4. 如果没有 php_openssl.dll ，点击下载 [php_openssl.dll](http://www.haorooms.com/uploads/js/php_openssl%28haorooms.com%29.rar)。 &gt;&gt;5. 下载下来有很多个php_openssl，找到你相应php版本下面的php_openssl。 &gt;&gt; &gt;&gt;查看php版本可以用如下代码： &gt;&gt; &gt;&gt; &lt;?phpphpinfo();?&gt; 123456 &gt;&gt; &gt;&gt;找到相应版本之后，按照上面讲的第二步来就可以了。 &gt;&gt; &gt;&gt;5. 重启apache或者iis，至此，openssl功能就开启了。2. 坑点2：```SMTP connect() failed. 配置QQ邮件服务器和端口号: 接收邮件服务器：pop.qq.com，使用SSL，端口号995发送邮件服务器：smtp.qq.com，使用SSL，端口号465或587账户名：您的QQ邮箱账户名（如果您是VIP帐号或Foxmail帐号，账户名需要填写完整的邮件地址）密码： 查看下一步,使用授权码登陆。电子邮件地址：您的QQ邮箱的完整邮件地址 QQ邮箱授权码 1、什么是授权码？授权码是QQ邮箱推出的，用于登录第三方客户端的专用密码。适用于登录以下服务：POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务。温馨提醒：为了你的帐户安全，更改QQ密码以及独立密码会触发授权码过期，需要重新获取新的授权码登录。2、怎么获取授权码？先进入设置－》帐户页面找到入口，按照以下流程操作。（1）选择第一项，点击“开启”（2）验证密保（3）获取授权码3、在第三方客户端怎么设置？在第三方客户端的密码框里面输入16位授权码进行验证。 至此，就可以愉快的使用邮件功能了。 让我们测试一下吧! - 注册 ![img](http://www.gether.cn/mdimage/phpmailer/1.png) - 去邮箱查看一下吧 ![img](http://www.gether.cn/mdimage/phpmailer/2.png) #####成功! ##欢迎大家访问我的主页Gether2018/9/2 上午10:19:01]]></content>
      <categories>
        <category>PHP学习</category>
      </categories>
      <tags>
        <tag>phpmailer邮件</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux系统下安装 JDK1.8.0_171 最新版本]]></title>
    <url>%2Fblog%2F2018%2F06%2F05%2FLinux%E5%AE%89%E8%A3%85JDK1.8%2F</url>
    <content type="text"><![CDATA[Linux系统下安装 JDK1.8.0_171 最新版本 1. 找到JDK下载URL去官网找到最新版本的下载地址Linux x64 167.14 MB jdk-8u171-linux-x64.rpm目前最新版的下载链接：http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm 2. 使用wget下载1wget --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/8u171-b11/512cd62ec5174c3487ac17c61aaa89e8/jdk-8u171-linux-x64.rpm 3. 安装JDK1rpm -ivh jdk-8u171-linux-x64.rpm 安装过程中会出现安装的路径/usr/xxxxxx/jdk/jdk1.8.0_171 4. 添加环境变量打开环境变量文件1vim /etc/profile 在最下面添加一下代码修改为自己的路径12345JAVA_HOME=/usr/xxxxxx/jdk/jdk1.8.0_171JRE_HOME=/usr/xxxxxx/jdk/jdk1.8.0_171/jreCLASS_PATH=.:$JAVA_HOME/lib:$JRE_HOME/libPATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/binexport JAVA_HOME JRE_HOME CLASS_PATH PATH 使用：wq！保存并退出。 5. 检查是否安装成功123java -versionwhich javarpm -qa|grep jdk 出现下面的代码，表示安装成功！1234# java -versionjava version &quot;1.8.0_171&quot;Java(TM) SE Runtime Environment (build 1.8.0_171-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode) 6.卸载1rpm -e --nodeps 要卸载的软件包 //软件包查询方法：rpm -qa|grep jdk]]></content>
      <categories>
        <category>Linux服务器</category>
      </categories>
      <tags>
        <tag>JDK1.8.0_171安装</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[阿里云ECS服务器修复漏洞]]></title>
    <url>%2Fblog%2F2018%2F06%2F05%2F%E9%98%BF%E9%87%8C%E4%BA%91ECS%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%AE%E5%A4%8D%E6%BC%8F%E6%B4%9E%2F</url>
    <content type="text"><![CDATA[登录云服务器，使用如下命令1. 查看可升级的系统软件 1yum check-update 2. 升级所有可升级的系统软件1yum upgrade 重启服务器，漏洞已经修复]]></content>
      <categories>
        <category>Linux服务器</category>
      </categories>
      <tags>
        <tag>漏洞修复</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linux安装mysql5.7]]></title>
    <url>%2Fblog%2F2018%2F06%2F05%2Flinux%E5%AE%89%E8%A3%85mysql5-7%2F</url>
    <content type="text"><![CDATA[Linux系统下的mysql5.7安装及Navicat连接教程 安装操作：1. 安装mysql的yum源 a. 下载配置mysql的yum源的rpm包,使用以下命令获取rpm文件：1wget https://dev.mysql.com/get/mysql57-community-release-el6-9.noarch.rpm b. 安装用来配置mysql的yum源的rpm包1rpm -Uvh mysql57-community-release-el6-9.noarch.rpm 或使用：1rpm -Uvh mysql57-community-release-el6-9.noarch.rpm 2. 安装mysql1yum install mysql-community-server 3. 开启mysql服务1service mysqld start 4. 查看mysql的运行状态1service mysqld status 5. 修改mysql5.7临时密码Mysql5.7默认安装之后root是有密码的。 5.1 获取MySQL的临时密码 为了加强安全性，MySQL5.7为root用户随机生成了一个密码，在error log中，关于error log的位置，如果安装的是RPM包，则默认是/var/log/mysqld.log。 只有启动过一次mysql才可以查看临时密码。 运行： 1grep &apos;temporary password&apos; /var/log/mysqld.log 你将看到： 12[root@****** ~]# grep &apos;temporary password&apos; /var/log/mysqld.log 2018-07-18T20:53:56.015766Z 1 [Note] A temporary password is generated for root@localhost:r&lt;dyTPJeh6Ht 这里 r&lt;dyTPJeh6Ht就是我们的临时密码。 5.2 登陆并修改密码 使用默认密码登陆 1mysql -u root -p 切换到mysql数据库，更新 user 表： 1use mysql; 修改密码： 1ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;填写新密码&apos; PASSWORD EXPIRE NEVER; 如果提示错误： 1ERROR 1819 (HY000): Your password does not satisfy the current policy requirements 这需要修改validate_password_policy参数的值，执行代码： 1set global validate_password_policy=0; 再重复5.2的操作。 6. 查看mysql是否自启动,并且设置开启自启动命令 查看代码 1chkconfig --list | grep mysqld 设置代码 1chkconfig mysqld on Navicat for MySQL连接操作： 腾讯云服务器执行 7 操作。 阿里云服务器执行 8 操作。 7. 腾讯云服务器操作方法：7.1 mysql安全设置(系统会一路问你几个问题，看不懂?复制之后翻译，基本上一路yes)：1mysql_secure_installation 7.2 开启远程连接 设置iptables开放3306端口： 1vi /etc/sysconfig/iptables 按Insert键，找到下面的代码 1-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT 在后面添加 1-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT 输入wq!，保存并退出 7.3 如果使用远程登陆出错，解决方法将localhost改为% 代码如下 1234mysql -u root -pmysql&gt;use mysql;mysql&gt;update user set host =’%&apos;where user =’root’;mysql&gt;flush privileges; 腾讯云配置完成！8.阿里服务器操作方法：8.1 由于阿里云默认不会开启3306端口，我们需要在阿里云的云服务器管理控制台的网络与安全中选择安全组。8.2 点击配置规则，之后选择添加安全组规则。8.3 端口范围填写3306/3306。8.4 授权对象填写0.0.0.0/0。阿里云配置完成！]]></content>
      <categories>
        <category>Linux服务器</category>
      </categories>
      <tags>
        <tag>mysql5.7安装</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fblog%2F2018%2F06%2F05%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
